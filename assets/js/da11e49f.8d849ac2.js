"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2115],{38009:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>m,frontMatter:()=>r,metadata:()=>p,toc:()=>c});var a=n(87462),i=(n(67294),n(3905));const r={title:"Integrate AppBar with React Navigation"},o="Integrate AppBar with react-navigation",p={unversionedId:"guides/react-navigation",id:"guides/react-navigation",title:"Integrate AppBar with React Navigation",description:"Prerequisites",source:"@site/docs/guides/09-react-navigation.md",sourceDirName:"guides",slug:"/guides/react-navigation",permalink:"/react-native-paper/docs/guides/react-navigation",draft:!1,editUrl:"https://github.com/callstack/react-native-paper/tree/main/docs/docs/guides/09-react-navigation.md",tags:[],version:"current",sidebarPosition:9,frontMatter:{title:"Integrate AppBar with React Navigation"},sidebar:"tutorialSidebar",previous:{title:"Using BottomNavigation with React Navigation",permalink:"/react-native-paper/docs/guides/bottom-navigation"},next:{title:"Introducing v5 with Material You",permalink:"/react-native-paper/docs/guides/migration-guide-to-5.0"}},s={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Stack Navigator",id:"stack-navigator",level:2},{value:"Adding <code>AppBar</code>",id:"adding-appbar",level:3},{value:"Adding more items to <code>Appbar</code>",id:"adding-more-items-to-appbar",level:3}],l={toc:c};function m(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,a.Z)({},l,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"integrate-appbar-with-react-navigation"},"Integrate AppBar with react-navigation"),(0,i.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"react-native-paper")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"react-navigation"))),(0,i.kt)("p",null,"We assume that you have already installed the mentioned libraries above, otherwise please check out the guides below."),(0,i.kt)("p",null," ",(0,i.kt)("a",{parentName:"p",href:"https://callstack.github.io/react-native-paper/docs/guides/getting-started"},"React Native Paper - Getting Started")),(0,i.kt)("p",null," ",(0,i.kt)("a",{parentName:"p",href:"https://reactnavigation.org/docs/getting-started/"},"React Navigation - Getting Started")),(0,i.kt)("h2",{id:"stack-navigator"},"Stack Navigator"),(0,i.kt)("p",null,"We will start with ",(0,i.kt)("inlineCode",{parentName:"p"},"react-navigation")," by creating a basic navigation stack. Stack navigator gives us a possibility of transition between screens in our app and manage navigation's history. In a simple scenario where there is only one stack navigator present in the app, it resembles a navigation state in a browser.\nScreens are pushed and popped from the stack while the user navigates to a new screen or go back to the previous one."),(0,i.kt)("p",null,"Let's create two screens. A main screen named ",(0,i.kt)("inlineCode",{parentName:"p"},"Home")," and details screen named ",(0,i.kt)("inlineCode",{parentName:"p"},"Details"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"import 'react-native-gesture-handler';\nimport React from 'react';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createStackNavigator } from '@react-navigation/stack';\n\nconst Stack = createStackNavigator();\n\nexport default function App() {\n  return (\n    <NavigationContainer>\n      <Stack.Navigator initialRouteName=\"Home\">\n        <Stack.Screen name=\"Home\" component={HomeScreen} />\n        <Stack.Screen name=\"Details\" component={DetailsScreen} />\n      </Stack.Navigator>\n    </NavigationContainer>\n  );\n}\n")),(0,i.kt)("p",null,"At the moment our navigation stack contains two screens and will render ",(0,i.kt)("inlineCode",{parentName:"p"},"HomeScreen")," or ",(0,i.kt)("inlineCode",{parentName:"p"},"DetailsScreen")," components according to the current navigation state. We have not implemented those components yet, so let's do this now:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"import React from 'react';\nimport {View, Text, Button, StyleSheet} from 'react-native';\n\nfunction HomeScreen() {\n  return (\n    <View style={style.container}>\n      <Text>Home Screen</Text>\n    </View>\n  );\n}\n\nfunction DetailsScreen() {\n  return (\n    <View style={style.container}>\n      <Text>Details Screen</Text>\n    </View>\n  );\n}\n\nconst style = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n});\n")),(0,i.kt)("p",null,"Once we have finished implementing the components, we can run the app and check how Stack looks like."),(0,i.kt)("img",{src:"/react-native-paper/screenshots/react-navigation-appBar1.png",width:"300"}),(0,i.kt)("p",null,"To navigate from ",(0,i.kt)("inlineCode",{parentName:"p"},"HomeScreen")," to ",(0,i.kt)("inlineCode",{parentName:"p"},"DetailsScreen")," we can use the navigation object provided by ",(0,i.kt)("inlineCode",{parentName:"p"},"Stack.Screen")," component. Every component rendered by ",(0,i.kt)("inlineCode",{parentName:"p"},"Stack.Screen")," has an access to the navigation object via props. Let's modify our ",(0,i.kt)("inlineCode",{parentName:"p"},"HomeScreen")," component:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"import { Button } from 'react-native-paper';\n\nfunction HomeScreen({ navigation }) {\n  return (\n    <View style={style.container}>\n      <Text>Home Screen</Text>\n      <Button mode=\"contained\" onPress={() => navigation.navigate('Details')}>\n        Go to details\n      </Button>\n    </View>\n  );\n}\n\nconst style = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n});\n")),(0,i.kt)("p",null,"Our result:"),(0,i.kt)("img",{src:"/react-native-paper/screenshots/react-navigation-appBar2.gif",width:"300"}),(0,i.kt)("p",null,"As you can see, we can already navigate between two screens. In the next steps, we will show you how to use Paper's ",(0,i.kt)("inlineCode",{parentName:"p"},"AppBar")," instead of the default header."),(0,i.kt)("h3",{id:"adding-appbar"},"Adding ",(0,i.kt)("inlineCode",{parentName:"h3"},"AppBar")),(0,i.kt)("p",null,"We can customize Stack's header by passing custom component:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},'export default function App() {\n  return (\n    <NavigationContainer>\n      <Stack.Navigator\n        initialRouteName="Home"\n        screenOptions={{\n          header: (props) => <CustomNavigationBar {...props} />,\n        }}>\n        <Stack.Screen name="Home" component={HomeScreen} />\n        <Stack.Screen name="Details" component={DetailsScreen} />\n      </Stack.Navigator>\n    </NavigationContainer>\n  );\n}\n')),(0,i.kt)("p",null,"Now we will implement ",(0,i.kt)("inlineCode",{parentName:"p"},"CustomNavigationBar")," using ",(0,i.kt)("inlineCode",{parentName:"p"},"AppBar")," component:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"import { Appbar } from 'react-native-paper';\n\nexport default function CustomNavigationBar() {\n  return (\n    <Appbar.Header>\n      <Appbar.Content title=\"My awesome app\" />\n    </Appbar.Header>\n  );\n}\n")),(0,i.kt)("p",null,"Current implementation of the ",(0,i.kt)("inlineCode",{parentName:"p"},"CustomNavigationBar")," is simple - we just render a title inside of it, however it's hardcoded \"My awesome app\" text, so let's adjust it.\nTo automatically get the correct ",(0,i.kt)("inlineCode",{parentName:"p"},"title")," for the screen, we're going to take the advantage of ",(0,i.kt)("inlineCode",{parentName:"p"},"getHeaderTitle")," helper available in ",(0,i.kt)("inlineCode",{parentName:"p"},"@react-navigation/elements")," in the following way:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"import { Appbar } from 'react-native-paper';\nimport { getHeaderTitle } from '@react-navigation/elements';\n\nexport default function CustomNavigationBar({ route, options }) {\n  const title = getHeaderTitle(options, route.name);\n\n  return (\n    <Appbar.Header>\n      <Appbar.Content title={title} />\n    </Appbar.Header>\n  );\n}\n")),(0,i.kt)("p",null,"You may notice there is no way to go back to the previous screen, because the back button is not visible in the header. Let's add it now and let's make sure it's visible on all Stack's screens except ",(0,i.kt)("inlineCode",{parentName:"p"},"Home")," screen."),(0,i.kt)("p",null,"In order to achieve it, we firstly check, if the navigation bar receives a ",(0,i.kt)("inlineCode",{parentName:"p"},"back")," prop. If it has, it means there is another screen on the stack beneath the current screen and we should render the back arrow button in such a case."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"import { Appbar } from 'react-native-paper';\nimport { getHeaderTitle } from '@react-navigation/elements';\n\nexport default function CustomNavigationBar({ navigation, route, options, back }) {\n  const title = getHeaderTitle(options, route.name);\n\n  return (\n    <Appbar.Header>\n      {back ? <Appbar.BackAction onPress={navigation.goBack} /> : null}\n      <Appbar.Content title={title} />\n    </Appbar.Header>\n  );\n}\n")),(0,i.kt)("img",{src:"/react-native-paper/screenshots/react-navigation-appBar3.gif",width:"300"}),(0,i.kt)("h3",{id:"adding-more-items-to-appbar"},"Adding more items to ",(0,i.kt)("inlineCode",{parentName:"h3"},"Appbar")),(0,i.kt)("p",null,"Another interesting pattern that can be implemented with ",(0,i.kt)("inlineCode",{parentName:"p"},"react-native-paper")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"react-navigation"),' is a "menu" button. Thanks to the ',(0,i.kt)("inlineCode",{parentName:"p"},"Menu")," component we can add a nice looking pop-up to our ",(0,i.kt)("inlineCode",{parentName:"p"},"Appbar"),". To implement this feature we need to make a couple of changes in ",(0,i.kt)("inlineCode",{parentName:"p"},"CustomNavigationBar"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Render a ",(0,i.kt)("inlineCode",{parentName:"li"},"Menu")," component"),(0,i.kt)("li",{parentName:"ul"},"Pass ",(0,i.kt)("inlineCode",{parentName:"li"},"Appbar.Action")," to the anchor prop"),(0,i.kt)("li",{parentName:"ul"},"Add a state to control ",(0,i.kt)("inlineCode",{parentName:"li"},"Menu")," visibility")),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"To have properly working ",(0,i.kt)("inlineCode",{parentName:"p"},"Menu")," component, remember to wrap your root component with the ",(0,i.kt)("inlineCode",{parentName:"p"},"PaperProvider"),":"),(0,i.kt)("pre",{parentName:"admonition"},(0,i.kt)("code",{parentName:"pre",className:"language-js"},'import { PaperProvider } from \'react-native-paper\';\n\n// ...\n\n<PaperProvider>\n  <NavigationContainer>\n    <Stack.Navigator\n      initialRouteName="Home"\n      screenOptions={{\n        header: (props) => <CustomNavigationBar {...props} />,\n      }}>\n      <Stack.Screen name="Home" component={HomeScreen} />\n      <Stack.Screen name="Details" component={DetailsScreen} />\n    </Stack.Navigator>\n  </NavigationContainer>\n</PaperProvider>\n'))),(0,i.kt)("p",null,"We also want the menu to appear only on ",(0,i.kt)("inlineCode",{parentName:"p"},"HomeScreen"),", which means we will render it conditionally based on the ",(0,i.kt)("inlineCode",{parentName:"p"},"back")," prop."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"import React from 'react';\nimport { Appbar, Menu } from 'react-native-paper';\nimport { getHeaderTitle } from '@react-navigation/elements';\n\nexport default function CustomNavigationBar({\n  navigation,\n  route,\n  options,\n  back,\n}) {\n  const [visible, setVisible] = React.useState(false);\n  const openMenu = () => setVisible(true);\n  const closeMenu = () => setVisible(false);\n\n  const title = getHeaderTitle(options, route.name);\n\n  return (\n    <Appbar.Header>\n      {back ? <Appbar.BackAction onPress={navigation.goBack} /> : null}\n      <Appbar.Content title={title} />\n      {!back ? (\n        <Menu\n          visible={visible}\n          onDismiss={closeMenu}\n          anchor={\n            <Appbar.Action\n              icon=\"dots-vertical\"\n              onPress={openMenu}\n            />\n          }>\n          <Menu.Item\n            onPress={() => {\n              console.log('Option 1 was pressed');\n            }}\n            title=\"Option 1\"\n          />\n          <Menu.Item\n            onPress={() => {\n              console.log('Option 2 was pressed');\n            }}\n            title=\"Option 2\"\n          />\n          <Menu.Item\n            onPress={() => {\n              console.log('Option 3 was pressed');\n            }}\n            title=\"Option 3\"\n            disabled\n          />\n        </Menu>\n      ) : null}\n    </Appbar.Header>\n  );\n}\n")),(0,i.kt)("p",null,"Final result:"),(0,i.kt)("img",{src:"/react-native-paper/screenshots/react-navigation-appBar4.gif",width:"300"}),(0,i.kt)("p",null,"That's all we need! We have app bar that contains everything we need to navigate through screens and access an additional menu on the main screen. As you can see, with Material design ",(0,i.kt)("inlineCode",{parentName:"p"},"Appbar")," provided by ",(0,i.kt)("inlineCode",{parentName:"p"},"react-native-paper")," used together with ",(0,i.kt)("inlineCode",{parentName:"p"},"react-navigation")," we can easily create an app that looks and works great. "),(0,i.kt)("p",null,"Grab the Expo ",(0,i.kt)("a",{parentName:"p",href:"https://snack.expo.dev/@react-native-paper/integrate-appbar-with-react-navigation"},"snack")," if you want to check the whole code!"))}m.isMDXComponent=!0}}]);